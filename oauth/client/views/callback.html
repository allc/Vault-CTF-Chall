<noscript>Requires JavaScript.</noscript>
<div id="message"></div>
<script>
function getToken() {
  if (window.location.hash) {
    const params = new URLSearchParams(window.location.hash.substring(1));
    return params.get('access_token');
  }
  return false;
}

function getState() {
  if (window.location.hash) {
    const params = new URLSearchParams(window.location.hash.substring(1));
    return params.get('state');
  }
  return false;
}

token = getToken();
if (!token) {
  document.querySelector('#message').textContent = 'Invalid authorization_code or access_token.';
} else {
  window.location.replace('/oauth2/callback?' + window.location.hash.substring(1));
}
</script>
